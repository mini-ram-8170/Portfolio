import{r,j as e}from"./index-DkfCeoKd.js";import{N as f,C as m,a as y}from"./Navbar-yMBq3A3y.js";const S=[{_id:"1",name:"John Doe",rating:5,comment:"Excellent work! The website design exceeded my expectations.",service:"Web Design",createdAt:"2024-03-15T10:30:00Z"},{_id:"2",name:"Jane Smith",rating:4,comment:"Very professional and responsive. Great attention to detail.",service:"Logo Design",createdAt:"2024-03-14T15:20:00Z"}],C=()=>{const[l,h]=r.useState([]),[s,n]=r.useState({name:"",rating:5,comment:"",service:"Web Design"}),[x,u]=r.useState(!1),[i,v]=r.useState({averageRating:0,totalReviews:0,ratingDistribution:{5:0,4:0,3:0,2:0,1:0}}),[b,p]=r.useState(""),[j,g]=r.useState(!1);r.useEffect(()=>{w()},[]),r.useEffect(()=>{if(l.length>0){const t=l.length,a=l.reduce((o,d)=>o+d.rating,0)/t,c=l.reduce((o,d)=>(o[d.rating]=(o[d.rating]||0)+1,o),{5:0,4:0,3:0,2:0,1:0});v({averageRating:a.toFixed(1),totalReviews:t,ratingDistribution:c})}},[l]);const w=async()=>{try{h(S)}catch(t){console.error("Error fetching reviews:",t)}},N=async t=>{t.preventDefault(),u(!0),p(""),g(!1);try{if(!s.name||!s.comment)throw new Error("Please fill in all required fields");const a={_id:String(Date.now()),...s,createdAt:new Date().toISOString()};h(c=>[a,...c]),n({name:"",rating:5,comment:"",service:"Web Design"}),g(!0),setTimeout(()=>g(!1),3e3)}catch(a){console.error("Error submitting review:",a),p(a.message)}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] text-white",children:[e.jsx(f,{}),e.jsxs("main",{className:"relative pt-32 px-4 md:px-24",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-16 bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Client Reviews"}),e.jsx(m,{className:"max-w-4xl mx-auto mb-16 p-8 bg-white/5 rounded-2xl backdrop-blur-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:i.averageRating}),e.jsx("div",{className:"flex justify-center mb-2",children:[...Array(5)].map((t,a)=>e.jsx("span",{className:`text-2xl ${a<Math.round(i.averageRating)?"text-yellow-400":"text-gray-600"}`,children:"★"},a))}),e.jsx("p",{className:"text-gray-400",children:"Average Rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:i.totalReviews}),e.jsx("p",{className:"text-gray-400",children:"Total Reviews"})]}),e.jsx("div",{children:[5,4,3,2,1].map(t=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"w-8 text-right",children:[t,"★"]}),e.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-400 rounded-full h-2",style:{width:`${i.ratingDistribution[t]/i.totalReviews*100}%`}})}),e.jsx("span",{className:"w-8",children:i.ratingDistribution[t]})]},t))})]})}),e.jsx(m,{className:"max-w-2xl mx-auto mb-16 p-8 bg-white/5 rounded-2xl backdrop-blur-sm",children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg mb-2",children:"Name"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>n({...s,name:t.target.value}),required:!0,className:"w-full p-3 bg-white/5 rounded-lg border border-white/10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg mb-2",children:"Service"}),e.jsxs("select",{value:s.service,onChange:t=>n({...s,service:t.target.value}),className:"w-full p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("option",{children:"Web Design"}),e.jsx("option",{children:"Logo Design"}),e.jsx("option",{children:"Web Development"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg mb-2",children:"Rating"}),e.jsx("select",{value:s.rating,onChange:t=>n({...s,rating:Number(t.target.value)}),className:"w-full p-3 bg-white/5 rounded-lg border border-white/10",children:[5,4,3,2,1].map(t=>e.jsxs("option",{value:t,children:[t," Stars"]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg mb-2",children:"Comment"}),e.jsx("textarea",{value:s.comment,onChange:t=>n({...s,comment:t.target.value}),required:!0,rows:"4",className:"w-full p-3 bg-white/5 rounded-lg border border-white/10"})]}),b&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 p-4 rounded-lg",children:b}),j&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/50 text-green-400 p-4 rounded-lg",children:"Review submitted successfully!"}),e.jsx("button",{type:"submit",disabled:x,className:`w-full py-3 bg-gradient-to-r from-purple-500 to-cyan-500 rounded-full
                font-bold transition-all duration-300 relative
                ${x?"opacity-70":"hover:scale-105"}`,children:x?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Review"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto mb-16",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Recent Reviews"}),l.map(t=>e.jsxs(m,{className:`bg-white/5 rounded-xl p-6 backdrop-blur-sm
                  hover:bg-white/10 transition-all duration-300`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:t.name}),e.jsx("p",{className:"text-purple-400",children:t.service})]}),e.jsx("div",{className:"flex",children:[...Array(t.rating)].map((a,c)=>e.jsx("span",{className:"text-yellow-400",children:"★"},c))})]}),e.jsx("p",{className:"text-gray-400",children:t.comment}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:new Date(t.createdAt).toLocaleDateString()})]},t._id))]}),e.jsx("section",{className:"py-16",children:e.jsx(m,{className:"max-w-4xl mx-auto p-8 bg-white/5 rounded-2xl backdrop-blur-sm",children:e.jsx(y,{})})})]})]})]})};export{C as default};
